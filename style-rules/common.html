<!DOCTYPE html>
<html lang="ru" data-lt-installed="true"><head>
	<meta charset="utf-8">
	<title>Общие правила оформления кода</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

	<h1>Общие правила оформления кода</h1>

	<p>Это общие правила по оформлению кода для большинства языков. Эти правила могут быть дополнены или несколько изменены правилами оформления для конкретного языка.</p>

	<h2>Отступы и выравнивание</h2>

	<p>Для отступа всегда должен использоваться символ табуляции. Уровень отступа (количество символов табуляции) должен соответствовать уровню вложенности.</p>
	<p>При переносе длинной строки на новую, уровень вложенности увеличивается на один, или выполняется выравнивание (не рекомендуется).</p>
	<p>Выравнивание делается только пробелами от текущего уровня отступа, сделанного табуляцией. Использовать табуляции в самом выравнивании запрещено.</p>
	<p>Использование выравнивания при написании кода крайне не приветствуется, так как это делает строки чрезмерно зависимыми друг от друга, затрудняет правку кода и контроль версий.</p>
	<p>Желательно сохранять уровень отступа в том числе и на пустых строках.</p>
	<p>Нужно следить, чтобы в используемом редакторе кода при сохранении завершающие строку пробелы не удалялись.</p>
	<pre>// ├──► — Табуляция
		// • — Пробел

		├──►if•(•(•$a•===•2•)
		├──►├──►&amp;&amp;•(•$b•===•3•)•)
		├──►{
		├──►├──►$c•=•5;
		├──►}
		├──►
		├──►$a•=•array(
		├──►├──►'one'•=&gt;•1,
		├──►├──►'two'•=&gt;•2,
		├──►├──►'three'•=&gt;•3,
		├──►);
		├──►
		├──►if•(•myfunction(•$var_one,•$var_two,
		├──►├──►$var_three,•$var_four•)•)
		├──►{
		├──►├──►$c•=•2;
		├──►}

		// Варианты с выравниванием (не рекомендуется)

		├──►$a•=•array(
		├──►•••••••••••'one'•••=&gt;•1,
		├──►•••••••••••'two'•••=&gt;•2,
		├──►•••••••••••'three'•=&gt;•3,
		├──►);
		├──►
		├──►if•(•myfunction(•$var_one,•••$var_two,
		├──►•••••••••••••••••$var_three,•$var_four•)•)
		├──►{
		├──►├──►$c•=•2;
		├──►}
	</pre>

	<h2>Максимальная длина строки</h2>

	<p>Строки кода должны умещаться в 80 символов. В некоторых случаях (например, при большом отступе) допускается длинна строки вплоть до 120 символов. Длиннее 120 символов строка не должна быть.</p>

	<h2>Окончания строк</h2>

	<p>Строки должны завершаться только по стандарту Unix символом перевода строки (LF, \n, 0x0A, символ с кодом 10).
	Запрещается использовать символ возврата каретки (CR, \r, 0x0D) или комбинацию символов (Windows-style, CRLF, \r\n, 0x0D+0x0A).</p>

	<h2>Кодировка файлов</h2>

	<p>Файлы должны быть в кодировке UTF-8 без использования метки BOM (EF BB BF).</p>
	<p>Исключением являются случаи, когда нужно создать файл в некоей кодировке в силу определённых обстоятельств, вроде представления данных в нужном виде прямо в файле.</p>

	<h2>Расстановка пробелов</h2>

	<p>Операторы-символы отбиваются пробелами, кроме основных унарных:</p>
	<pre>
		x = 2 + 3;
		b = x === 5;
		x += 2;
		x++;
		x = 5 - -2;
		b = !b;
		x = b ? 1 : 2;
	</pre>

	<p>При группировке арифметических операций скобки пробелом не отбиваются, во всех остальных случаях (как логическая группировка, передача аргументов функции) — используется отбивка пробелом. Если функция не содержит аргументов, то между открывающей и закрывающей скобками пробел не ставится.</p>
	<pre>
		x = (2 + 3) / 2;
		x = round( 2 / 3 ) - 2;
		x = ((2 + 3) / 2) + 4;
		x = (round( 2 / 3 ) - 2) * 2;
		b = ( ( x === 5 ) || ( x === 10 ) );
		function myfunction()
		myfunction();
	</pre>

	<p>Функции и конструкторы не отбиваются от последующей скобки пробелом, а операторы языка должны быть отделены пробелом.</p>
	<pre>
		function myfunction( var1, var2 )
		myfunction( 1, 2 );
		date = new Date();
		$a = array();
		for ( i = 0; i &lt; 10; i++ )
		if ( x === 2 )
	</pre>

	<p>Комментарии пишутся с отступом в пробел и должны начинаться с заглавной буквы, если не являются продолжением предыдущего. Для комментариев следует использовать именно строчный вариант, блочный подходит или для того, чтобы временно закомментировать большой фрагмент кода, или для документации в коде.</p>
	<pre>
		// Comment
		$x = 1;
		// Very long
		// comment line
		$y = 2;
		/* Multiline comment */
		$z = 3;
		/**
		* Documentation
		*/
		$t = 4;
	</pre>

	<h2>Вертикальные отступы</h2>

	<p>Вертикальный отступ в коде должен быть не более одной пустой строки. Если нужно как-то дополнительно обозначить фрагмент кода, следует воспользоваться комментарием. В начале или конце блока пустой строки быть не должно.</p>
	<p>Структурные блоки должны отделяться от кода или других блоков пустой строкой, за исключением случаев, когда это связанные блоки (вроде if…else).</p>
	<p>За исключением некоторых отдельных случаев (обычно документы XML), в конце файла должна быть пустая строка.</p>
	<pre>
			someCode();

		if ( something )
		{
			someCode();
		}
		else
		{
			someOtherCode();
		}

		someCode();

		for ( i = 0; i &lt; 10; i++ )
		{
			someCode( i );
		}

		someCode();

		// Пример Switch/Case, он отделён дополнительно с использованием комментария

		switch ( i )
		{
			case 1:
				codeOne();
				break;
			// ← Этот отступ на уровне case, а не на уровне break
			case 2:
				codeTwo();
				break;
			
			case 3:
			case 4:
				codeThree();
				break;
			
			default:
				codeDefault();
				break;
		}
	</pre>

</body>
</html>
